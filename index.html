

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="A set of commonly used modules for HPC">
    <meta name="author" content="Jorge Luis Galvez Vallejo" >
    <link rel="icon" href="./favicon.png">

    <title> PIC </title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link href="./css/fontawesome.min.css" rel="stylesheet">
    <link href="./css/brands.min.css" rel="stylesheet">
    <link href="./css/regular.min.css" rel="stylesheet">
    <link href="./css/solid.min.css" rel="stylesheet">
    <link href="./css/v4-font-face.min.css" rel="stylesheet">
    <link href="./css/v4-shims.min.css" rel="stylesheet">
    <!-- MathJax -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async
            integrity="sha256-DViIOMYdwlM/axqoGDPeUyf0urLoHMN4QACBKyB58Uw=" crossorigin="anonymous"></script>
    <!-- Other scripts and stylesheets -->
    <link href="./css/local.css" rel="stylesheet">
    <link href="./css/pygments.css" rel="stylesheet">
    <script src="./js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="./index.html">PIC </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="page/index.html">About PIC</a></li>
                  <li class="nav-item">
                    <a class="nav-link" href="./lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/types.html">Derived Types</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="./search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <!-- Main component for a primary marketing message or call to action -->
    <div class="p-5 mb-4 bg-light border rounded-3" id="jumbotron">
      <p>A set of commonly used modules for HPC</p>
        <p> Find us on&hellip;</p>
      <p>
        <a class="btn btn-lg btn-primary" href="https://github.com/JorgeG94/pic" role="button">GitHub</a>
        
        
        
        
        <a class="btn btn-lg btn-danger" style="float:right" href="https://github.com/JorgeG94/pic/archive/refs/heads/main.zip" role="button">Download the Source</a>
      </p>
    </div>

      <div class="row" id='text'>
        <div class=col-md-8>
          <h1>PIC</h1>
          <p>PIC is named after the Huastec word PIC which means otter.</p>
<p align="center">
  <img src="./media/pic_logo.png" alt="Otter coding logo" title="Project logo" width="250">
</p>

<p>A work in progress on writing a cool backend for Fortan applications focused on scientific computing software. Originally this was going
to be for quantum chemistry but I ended up writing way more general routines than I expected.</p>
<h2 id="building-tldr-on-linux">Building (TLDR) on Linux</h2>
<p>I assume you have experience building things here. If you don&rsquo;t please go further down for a more verbose explanation.</p>
<p>Briefly, for a minimal build (no BLAS, no MPI)  you need:</p>
<ul>
<li>CMake (at least 3.22) or the Fortran Package Manager (at least 0.12.0)</li>
<li>A Fortran compiler</li>
<li>An internet connection to pull the <code>test-drive</code> dependency</li>
</ul>
<p>I don&rsquo;t have a Mac nor am I experienced with Windows development, however the CI routines test for the code to be built on both platforms. These instructions
should work on either OS, but be mindful this is aimed at Linux.</p>
<h3 id="building-with-cmake">Building with CMake</h3>
<p>The top level directory is <code>$PIC_BASE</code> which is the <code>pic/</code> directory that was cloned or unpacked. I assume you are here. And
<code>$PIC_ROOT</code> is the path to where you&rsquo;d like pic to be installed, for example <code>export PIC_ROOT=$HOME/install/pic/dev/</code></p>
<div class="codehilite"><pre><span></span><code>mkdir build
cd build
cmake -DCMAKE_INSTALL_PREFIX=$PIC_ROOT ../
make -j install
</code></pre></div>

<p>To run the tests, from the build directory simply run: <code>ctest</code></p>
<h3 id="building-with-fpm">Building with FPM</h3>
<p>The same <code>$PIC_BASE</code> and <code>$PIC_ROOT</code> will be used here. Simply:</p>
<div class="codehilite"><pre><span></span><code>fpm install --prefix $PIC_ROOT --profile release
</code></pre></div>

<p>To run the tests: <code>fpm test --profile release</code></p>
<h2 id="building-and-dependencies">Building and dependencies</h2>
<p>There&rsquo;s two build systems included in the present version, CMake and the <a href="https://fpm.fortran-lang.org/index.html">Fortran Package Manager</a>.</p>
<p>The dependencies of the project are, as of now, CMake (if using cmake), MPI, OpenMP, and a BLAS/LAPACK library.</p>
<h2 id="documentation">Documentation</h2>
<p>The code itself is documented using <a href="https://forddocs.readthedocs.io/en/stable/">FORD</a> and the documentation is available <a href="https://jorgeg94.github.io/pic/">here</a>.</p>
<p>Comments in the code that are prefixed with <code>!!</code> are considered documentation comments and will be processed by FORD. Comments without that prefix are considered regular comments and will not be processed by FORD. So, please do not use <code>!!</code> for your comments unless you want them to be included in the documentation.</p>
<h3 id="cmake">CMake</h3>
<p>CMake offers a very modular build of PIC, the following options are available and can be triggered by <code>-DPIC_ENABLE_XYZ=ON/OFF</code></p>
<table>
<thead>
<tr>
<th>Option Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PIC_DEFAULT_INT8</code></td>
<td><code>OFF</code></td>
<td>Use 8-byte integers as default</td>
</tr>
<tr>
<td><code>PIC_ENABLE_MPI</code></td>
<td><code>OFF</code></td>
<td>Enable the use of MPI in PIC</td>
</tr>
<tr>
<td><code>PIC_ENABLE_OMP</code></td>
<td><code>OFF</code></td>
<td>Enable the use of OpenMP in PIC</td>
</tr>
<tr>
<td><code>PIC_ENABLE_BLAS</code></td>
<td><code>OFF</code></td>
<td>Enable BLAS/LAPACK libraries in PIC</td>
</tr>
<tr>
<td><code>PIC_ENABLE_TESTING</code></td>
<td><code>ON</code></td>
<td>Enable testing for PIC</td>
</tr>
<tr>
<td><code>PIC_ENABLE_JONQUIL</code></td>
<td><code>OFF</code></td>
<td>Enable Jonquil for JSON/TOML handling</td>
</tr>
</tbody>
</table>
<h4 id="advanced-options">Advanced options:</h4>
<table>
<thead>
<tr>
<th>Option Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PIC_USE_VAPAA</code></td>
<td><code>OFF</code></td>
<td>Use vapaa for binding to MPI</td>
</tr>
</tbody>
</table>
<p>Information on vapaa see <a href="https://github.com/JorgeG94/vapaa/tree/main">here</a> which is my
personal fork which is pulled from here, and Jeff&rsquo;s <a href="https://github.com/jeffhammond/vapaa">project</a>.</p>
<p>Will update to use the orignal project at a later date.</p>
<h3 id="building-extended">Building (extended)</h3>
<p>To enable extended builds of PIC, i.e. using the BLAS interface and the dramatically underdeveloped MPI interface you can use the
options provided above, simply:</p>
<div class="codehilite"><pre><span></span><code>cmake -DPIC_ENABLE_BLAS=ON -DPIC_ENABLE_MPI=ON ../
</code></pre></div>

<p>This will build the necessary files and will add the BLAS related tests to the <code>ctest</code> suite.</p>
<h3 id="fpm">FPM</h3>
<p>Install the FPM following the <a href="https://fpm.fortran-lang.org/install/index.html#install">instructions</a> and then simply: <code>fpm install</code></p>
<p>The FPM will build the entire library, however the BLAS tests are not included in the default build. This is for simplicity for people
that want to include <code>pic</code> as a dependency in their <code>fpm.toml</code> files. To compile PIC with BLAS support, make sure to pass the compile flag:
<code>fpm install --flag "-DPIC_HAVE_BLAS"</code> so that the code gets compiled correctly.</p>
<h2 id="contributing">Contributing</h2>
<p>Please see the <a href="https://jorgeg94.github.io/pic/page/contributing.html">contributing guidelines</a> for information on how to contribute to the project.</p>
<p>See our <a href="CODE_OF_CONDUCT.md">code of conduct</a> for details on community standards. In short, PIC is a welcoming codebase that is open to contributions
from anyone at any level of experience. Do you want to fix my thousands of typos, go ahead. Do you want to contribute code, go ahead. Just always
be respectful of others.</p>
<h2 id="examples">Examples</h2>
<p>You can see some [WIP] examples in the <a href="https://github.com/JorgeG94/pic_examples">pic-examples</a> repository.</p>
<h2 id="using-pic-in-your-work">Using PIC in your work</h2>
<h3 id="fortran-package-manager">Fortran Package Manager</h3>
<p>Simply add:</p>
<div class="codehilite"><pre><span></span><code><span class="k">[dependencies]</span>
<span class="na">pic = { git</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;https://github.com/JorgeG94/pic.git&quot;</span><span class="na">, branch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;main&quot;</span><span class="na">}</span>
</code></pre></div>

<p>to your fpm.toml file and you&rsquo;ll be able to checkout and use pic.</p>
<h3 id="cmake_1">CMake</h3>
<p>For CMake it is a bit more complex, since you&rsquo;ll need to pull the dependency. You can see this <a href="https://github.com/JorgeG94/pic-app-sample">template repo</a>, which
serves as an example on pulling and using the code inside your build system.</p>
<h3 id="staticshared-linking-via-cmake">Static/Shared linking via CMake</h3>
<p>pic is compiled with &ldquo;CMake symbols&rdquo;, i.e. it will be findable by a CMake package provided you do the right things. Using
<code>find_package(pic REQUIRED)</code> will use CMake intrinsics to try to find the necessary things to link to pic. pic comes with the
target <code>pic::pic</code> that you can use for your <code>target_link_libraries(${my_target} PRIVATE pic::pic)</code>. This will import
all includes, modules, libs, etc.</p>
<p>How CMake finds <code>pic::pic</code> depends on the policy <code>CMP0074</code>, this controls if the variables <code>pic_DIR</code> or <code>pic_ROOT</code> are used
to search for the package. If you have set the policy: <code>cmake_policy(SET CMP0074 NEW)</code>, then <code>pic_ROOT</code> will also be used,
otherwise it is <em>IGNORED</em>. By setting <code>export pic_ROOT=/path/to/where/pic/is/installed</code> it will let CMake find the
necessary files it needs to just link pic. Be careful that, as of now, pic needs to be in small letter. All caps will fail to
find.</p>
        </div>
          <div class="col-md-4">
            <div class="card card-body bg-light">
              <h2 class="card-title">Developer Info</h2>
              <h4 class="card-text">Jorge Luis Galvez Vallejo</h4>
              <p class="card-text"></p>
                <div class="text-center"><div class="btn-group" role="group">
                    
                    <a class="btn btn-lg btn-primary" href="https://github.com/JorgeG94"><i class="fa fa-github fa-lg"></i></a>
                    
                    
                    
                    
                    
                    
                </div></div>
            </div>
          </div>
      </div>
        <div class="row">
          <hr>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Source Files</h3>
              <ul><li><a href='sourcefile/pic.f90.html'>pic.f90</a></li><li><a href='sourcefile/pic_array.f90.html'>pic_array.f90</a></li><li><a href='sourcefile/pic_ascii.f90.html'>pic_ascii.f90</a></li><li><a href='sourcefile/pic_blas_interfaces.f90.html'>pic_blas_interfaces.F90</a></li><li><a href='sourcefile/pic_command_line.f90.html'>pic_command_line.f90</a></li><li><a href='sourcefile/pic_constants.f90.html'>pic_constants.f90</a></li><li><a href='sourcefile/pic_device.f90.html'>pic_device.f90</a></li><li><a href='sourcefile/pic_flop_rate.f90.html'>pic_flop_rate.f90</a></li><li><a href='sourcefile/pic_flop_recorder.f90.html'>pic_flop_recorder.f90</a></li><li><a href='sourcefile/pic_global_definitions.f90.html'>pic_global_definitions.f90</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/files.html"><em>All source files&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Modules</h3>
              <ul><li><a href='module/pic.html'>pic</a></li><li><a href='module/pic_array.html'>pic_array</a></li><li><a href='module/pic_ascii.html'>pic_ascii</a></li><li><a href='module/pic_blas_interfaces.html'>pic_blas_interfaces</a></li><li><a href='module/pic_command_line.html'>pic_command_line</a></li><li><a href='module/pic_constants.html'>pic_constants</a></li><li><a href='module/pic_device.html'>pic_device</a></li><li><a href='module/pic_flop_rate.html'>pic_flop_rate</a></li><li><a href='module/pic_flop_recorder.html'>pic_flop_recorder</a></li><li><a href='module/pic_global_definitions.html'>pic_global_definitions</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/modules.html"><em>All modules&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Procedures</h3>
              <ul><li><a href='proc/add_flops.html'>add_flops</a></li><li><a href='interface/adjustl.html'>adjustl</a></li><li><a href='proc/adjustl_string.html'>adjustl_string</a></li><li><a href='interface/adjustr.html'>adjustr</a></li><li><a href='proc/adjustr_string.html'>adjustr_string</a></li><li><a href='proc/assign_string_char.html'>assign_string_char</a></li><li><a href='interface/assignment(=).html'>assignment(=)</a></li><li><a href='interface/blas_asum.html'>blas_asum</a></li><li><a href='interface/blas_axpy.html'>blas_axpy</a></li><li><a href='interface/blas_copy.html'>blas_copy</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/procedures.html"><em>All procedures&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Derived Types</h3>
              <ul><li><a href='type/device_type.html'>device_type</a></li><li><a href='type/flop_rate_type.html'>flop_rate_type</a></li><li><a href='type/flop_recorder_type.html'>flop_recorder_type</a></li><li><a href='type/logger_type.html'>logger_type</a></li><li><a href='type/run_type.html'>run_type</a></li><li><a href='type/run_type~2.html'>run_type</a></li><li><a href='type/string_type.html'>string_type</a></li><li><a href='type/timer_type.html'>timer_type</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/types.html"><em>All derived types&hellip;</em></a></li>
              </ul>
            </div>
          </div>
        </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              PIC
 was developed by Jorge Luis Galvez Vallejo<br>              &copy; 2025 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2025-10-29 05:00 +0000             </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>
  </body>
</html>